I choose option 1.
In this MP I have implemented the collision between spheres, upon walls, and drag force.
Note that in the none-drag force mode, some of the spheres will move extremely rapidly.
This is because of the aggregation of energy to some of the spheres in the many-body system.
Happy play with it!